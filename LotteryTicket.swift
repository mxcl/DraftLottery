import Foundation


class LotteryTicket {
    let birthday: NSDate

    var deployed: Bool {
        return order <= 195
    }

    var order: Int {
        let gregorian = NSCalendar(calendarIdentifier: NSGregorianCalendar) as NSCalendar!
        if gregorian == nil {
            // This app is only valid in the universe it was purchased
            abort()
        }
        let dayOfYear = gregorian.ordinalityOfUnit(.DayCalendarUnit, inUnit: .YearCalendarUnit, forDate: birthday)

        // represents tickets for the 1969-12-01 lottery
        // this lottery was for all men born between 1944-1950
        // numbers were then “called” as the military required new recruits
        // the highest number called for the first lottery was 195

        // data from http://www.sss.gov/LOTTER8.HTM

        // switch statement generated by mk-lottery-switch.rb
        switch (dayOfYear - 1) {
            case 0: return 305
            case 1: return 159
            case 2: return 251
            case 3: return 215
            case 4: return 101
            case 5: return 224
            case 6: return 306
            case 7: return 199
            case 8: return 194
            case 9: return 325
            case 10: return 329
            case 11: return 221
            case 12: return 318
            case 13: return 238
            case 14: return 17
            case 15: return 121
            case 16: return 235
            case 17: return 140
            case 18: return 58
            case 19: return 280
            case 20: return 186
            case 21: return 337
            case 22: return 118
            case 23: return 59
            case 24: return 52
            case 25: return 92
            case 26: return 355
            case 27: return 77
            case 28: return 349
            case 29: return 164
            case 30: return 211
            case 31: return 86
            case 32: return 144
            case 33: return 297
            case 34: return 210
            case 35: return 214
            case 36: return 347
            case 37: return 91
            case 38: return 181
            case 39: return 338
            case 40: return 216
            case 41: return 150
            case 42: return 68
            case 43: return 152
            case 44: return 4
            case 45: return 89
            case 46: return 212
            case 47: return 189
            case 48: return 292
            case 49: return 25
            case 50: return 302
            case 51: return 363
            case 52: return 290
            case 53: return 57
            case 54: return 236
            case 55: return 179
            case 56: return 365
            case 57: return 205
            case 58: return 299
            case 59: return 285
            case 60: return 108
            case 61: return 29
            case 62: return 267
            case 63: return 275
            case 64: return 293
            case 65: return 139
            case 66: return 122
            case 67: return 213
            case 68: return 317
            case 69: return 323
            case 70: return 136
            case 71: return 300
            case 72: return 259
            case 73: return 354
            case 74: return 169
            case 75: return 166
            case 76: return 33
            case 77: return 332
            case 78: return 200
            case 79: return 239
            case 80: return 334
            case 81: return 265
            case 82: return 256
            case 83: return 258
            case 84: return 343
            case 85: return 170
            case 86: return 268
            case 87: return 223
            case 88: return 362
            case 89: return 217
            case 90: return 30
            case 91: return 32
            case 92: return 271
            case 93: return 83
            case 94: return 81
            case 95: return 269
            case 96: return 253
            case 97: return 147
            case 98: return 312
            case 99: return 219
            case 100: return 218
            case 101: return 14
            case 102: return 346
            case 103: return 124
            case 104: return 231
            case 105: return 273
            case 106: return 148
            case 107: return 260
            case 108: return 90
            case 109: return 336
            case 110: return 345
            case 111: return 62
            case 112: return 316
            case 113: return 252
            case 114: return 2
            case 115: return 351
            case 116: return 340
            case 117: return 74
            case 118: return 262
            case 119: return 191
            case 120: return 208
            case 121: return 330
            case 122: return 298
            case 123: return 40
            case 124: return 276
            case 125: return 364
            case 126: return 155
            case 127: return 35
            case 128: return 321
            case 129: return 197
            case 130: return 65
            case 131: return 37
            case 132: return 133
            case 133: return 295
            case 134: return 178
            case 135: return 130
            case 136: return 55
            case 137: return 112
            case 138: return 278
            case 139: return 75
            case 140: return 183
            case 141: return 250
            case 142: return 326
            case 143: return 319
            case 144: return 31
            case 145: return 361
            case 146: return 357
            case 147: return 296
            case 148: return 308
            case 149: return 226
            case 150: return 103
            case 151: return 313
            case 152: return 249
            case 153: return 228
            case 154: return 301
            case 155: return 20
            case 156: return 28
            case 157: return 110
            case 158: return 85
            case 159: return 366
            case 160: return 335
            case 161: return 206
            case 162: return 134
            case 163: return 272
            case 164: return 69
            case 165: return 356
            case 166: return 180
            case 167: return 274
            case 168: return 73
            case 169: return 341
            case 170: return 104
            case 171: return 360
            case 172: return 60
            case 173: return 247
            case 174: return 109
            case 175: return 358
            case 176: return 137
            case 177: return 22
            case 178: return 64
            case 179: return 222
            case 180: return 353
            case 181: return 209
            case 182: return 93
            case 183: return 350
            case 184: return 115
            case 185: return 279
            case 186: return 188
            case 187: return 327
            case 188: return 50
            case 189: return 13
            case 190: return 277
            case 191: return 284
            case 192: return 248
            case 193: return 15
            case 194: return 42
            case 195: return 331
            case 196: return 322
            case 197: return 120
            case 198: return 98
            case 199: return 190
            case 200: return 227
            case 201: return 187
            case 202: return 27
            case 203: return 153
            case 204: return 172
            case 205: return 23
            case 206: return 67
            case 207: return 303
            case 208: return 289
            case 209: return 88
            case 210: return 270
            case 211: return 287
            case 212: return 193
            case 213: return 111
            case 214: return 45
            case 215: return 261
            case 216: return 145
            case 217: return 54
            case 218: return 114
            case 219: return 168
            case 220: return 48
            case 221: return 106
            case 222: return 21
            case 223: return 324
            case 224: return 142
            case 225: return 307
            case 226: return 198
            case 227: return 102
            case 228: return 44
            case 229: return 154
            case 230: return 141
            case 231: return 311
            case 232: return 344
            case 233: return 291
            case 234: return 339
            case 235: return 116
            case 236: return 36
            case 237: return 286
            case 238: return 245
            case 239: return 352
            case 240: return 167
            case 241: return 61
            case 242: return 333
            case 243: return 11
            case 244: return 225
            case 245: return 161
            case 246: return 49
            case 247: return 232
            case 248: return 82
            case 249: return 6
            case 250: return 8
            case 251: return 184
            case 252: return 263
            case 253: return 71
            case 254: return 158
            case 255: return 242
            case 256: return 175
            case 257: return 1
            case 258: return 113
            case 259: return 207
            case 260: return 255
            case 261: return 246
            case 262: return 177
            case 263: return 63
            case 264: return 204
            case 265: return 160
            case 266: return 119
            case 267: return 195
            case 268: return 149
            case 269: return 18
            case 270: return 233
            case 271: return 257
            case 272: return 151
            case 273: return 315
            case 274: return 359
            case 275: return 125
            case 276: return 244
            case 277: return 202
            case 278: return 24
            case 279: return 87
            case 280: return 234
            case 281: return 283
            case 282: return 342
            case 283: return 220
            case 284: return 237
            case 285: return 72
            case 286: return 138
            case 287: return 294
            case 288: return 171
            case 289: return 254
            case 290: return 288
            case 291: return 5
            case 292: return 241
            case 293: return 192
            case 294: return 243
            case 295: return 117
            case 296: return 201
            case 297: return 196
            case 298: return 176
            case 299: return 7
            case 300: return 264
            case 301: return 94
            case 302: return 229
            case 303: return 38
            case 304: return 79
            case 305: return 19
            case 306: return 34
            case 307: return 348
            case 308: return 266
            case 309: return 310
            case 310: return 76
            case 311: return 51
            case 312: return 97
            case 313: return 80
            case 314: return 282
            case 315: return 46
            case 316: return 66
            case 317: return 126
            case 318: return 127
            case 319: return 131
            case 320: return 107
            case 321: return 143
            case 322: return 146
            case 323: return 203
            case 324: return 185
            case 325: return 156
            case 326: return 9
            case 327: return 182
            case 328: return 230
            case 329: return 132
            case 330: return 309
            case 331: return 47
            case 332: return 281
            case 333: return 99
            case 334: return 174
            case 335: return 129
            case 336: return 328
            case 337: return 157
            case 338: return 165
            case 339: return 56
            case 340: return 10
            case 341: return 12
            case 342: return 105
            case 343: return 43
            case 344: return 41
            case 345: return 39
            case 346: return 314
            case 347: return 163
            case 348: return 26
            case 349: return 320
            case 350: return 96
            case 351: return 304
            case 352: return 128
            case 353: return 240
            case 354: return 135
            case 355: return 70
            case 356: return 53
            case 357: return 162
            case 358: return 95
            case 359: return 84
            case 360: return 173
            case 361: return 78
            case 362: return 123
            case 363: return 16
            case 364: return 3
            case 365: return 100
        default:
            abort()  // This app is only valid in the universe it was developed
        }
    }

    init(birthday: NSDate) {
        self.birthday = birthday
    }
}
